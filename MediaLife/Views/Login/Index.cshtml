@model List<ShowModel>
@{
    ViewData["Title"] = "Login";
    ViewData["NoHeader"] = true;
}

@if (ViewBag.AccountCount > 0)
{

    <form onsubmit="page.login(); return false;">
        @Html.FormRow("key", "Pass Key")
    </form>

}
else
{
    User user = new User() {
        AccountId = 0,
        Name = "",
        Password = Guid.NewGuid().ToString(),
        Role = UserRole.SiteAdmin,
    };

    <h1>Create first user</h1>

    <form id="createAccountForm" onsubmit="page.createFirstAccount(); return false;">
        @Html.FormRowFor(u => user.Name)
        @Html.FormRowFor(u => user.Password)
        @Html.HiddenFor(u => user.Role)
        @Html.SubmitRow("Create")
    </form>

}